!function(e){var n={};function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(a,i,function(n){return e[n]}.bind(null,i));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){t(1),e.exports=t(2)},function(e,n){let t=document.getElementById("wrapper");t.insertAdjacentHTML("beforeend",'<section class="control">\n        <button class="reload" id="reload">&#x21bb</button>\n\n        <select class="language" id="language">\n            <option value="EN">EN</option>\n            <option value="RU" id="ru">RU</option>\n            <option value="BY">BY</option>\n        </select>\n\n        <select class="temperature-buttons" id="temperature-buttons">\n            <option class="temperature-buttons--button" value="celsius" id="celsius">&#xb0;C</option>\n            <option class="temperature-buttons--button" value="fahrenheit" id="fahrenheit">&#xb0;F</option>\n        </select>\n    </section>'),t.insertAdjacentHTML("beforeend",'<section class="info">\n            <div class="city" id="location"></div>\n            <div class="date" id="date"></div>\n            <div class="time" id="time"></div>\n        </section>\n    <section class="weather-on-day">\n        <div class="temperature" id="temperature"></div>\n        <div class="weather-description">\n            <img id="icon" src=\'\' alt=\'\'>\n            <div><span id="description"></span></div>\n            <div><span id="f">FEELS LIKE: </span><span id="feelslike"></span></div>\n            <div><span id="w">WIND: </span><span id="wind"></span></div>\n            <div><span id="h">HUMIDITY: </span><span id="humidity"></span></div>\n        </div>\n    </section>'),t.insertAdjacentHTML("beforeend",'<section class="three-day-weather">\n        <div>\n            <div id="day1">Monday</div>\n            <span id="t1"></span>\n            <img class="small_icon" id="t1_icon" src=\'\' alt=\'\'>\n        </div>\n        <div>\n            <div id="day2">Tuesday</div>\n            <span id="t2"></span>\n            <img class="small_icon" id=\'t2_icon\' src=\'\' alt=\'\'>\n        </div>\n        <div>\n            <div id="day3">Wednesday</div>\n            <span id="t3"></span>\n            <img class="small_icon" id="t3_icon" src=\'\' alt=\'\'>\n        </div>\n    </section>'),t.insertAdjacentHTML("beforeend",'\n    <section class="search-location">\n        <div class="search">\n            <input class="search-input" id="search-input" type="text" value="">\n            <button class="search-icon" id="search"></button>\n            <button class="search-microphone" id="microphone" title="Voice search"></button>\n        </div>\n    </section>\n\n    <section class="map">\n        <div id="map"></div>\n    </section>\n\n    <section class="geo">\n        <div><span id=\'ltd\'>Latitude: </span><span id="latitude"></span></div>\n        <div><span id=\'lng\'>Longitude: </span><span id="longitude"></span></div>\n    </section>')},function(e,n,t){const a=(new Date).getMonth(),i=(new Date).getHours();let r,o;(a<=1||11===a)&&(r="winter"),a>=2&&a<=4&&(r="spring"),a>=5&&a<=7&&(r="summer"),a>=8&&a<=10&&(r="autumn"),(i>=0&&i<5||i>=21)&&(o="night"),i>=5&&i<12&&(o="morning"),i>=12&&i<17&&(o="day"),i>=17&&i<21&&(o="evening");const d=`https://api.unsplash.com/photos/random?orientation=landscape&per_page=1&query=${r}+${o}+nature&client_id=75d70c7a0ebe2b3acc928b6e341b5c8b8d1a4e64beaf37fef3fb7585f4027796`,c=document.onload=()=>fetch(d).then(e=>e.json()).then(e=>document.querySelector("body").style.background=`url(${e.urls.regular}) center center / cover no-repeat fixed`);c(),document.getElementById("reload").addEventListener("click",e=>c()),navigator.geolocation.getCurrentPosition((function(e){document.getElementById("latitude").innerText=l(`${e.coords.latitude.toFixed(2)}`),document.getElementById("longitude").innerText=l(`${e.coords.longitude.toFixed(2)}`)})),fetch("https://ipinfo.io/json?token=08c63d5703104c").then(e=>e.json()).then(e=>{p=e.city,document.getElementById("location").innerHTML=`${p}, ${e.country}`,f(p),L(p)});const l=(e,n)=>{const t=Math.abs(e),a=Math.floor(t),i=60*(t-a);if(n){}else{}return a+"°"+Math.floor(i)+"'"};let s,u;const m=e=>{fetch(`https://api.opencagedata.com/geocode/v1/json?q=${e}&key=541e04cb4db34cd6ac61480c36ab855b`).then(e=>e.json()).then(e=>{s=e.results[0].geometry.lat.toFixed(2),u=e.results[0].geometry.lng.toFixed(2),document.getElementById("latitude").innerHTML=l(`${e.results[0].geometry.lat.toFixed(2)}`),document.getElementById("longitude").innerHTML=l(`${e.results[0].geometry.lng.toFixed(2)}`)})};let p;document.getElementById("search-input").addEventListener("change",e=>{document.getElementById("location").innerHTML=document.getElementById("search-input").value,p=document.getElementById("location").textContent,f(p),L(p),m(p),T()});const g="https://api.openweathermap.org/data/2.5/weather?q=cityName&lang=en&units=metric&APPID=7628b84858689e70d784fa009f97eea5",h="https://api.openweathermap.org/data/2.5/forecast?q=cityName&lang=en&units=metric&APPID=7628b84858689e70d784fa009f97eea5";mapboxgl.accessToken="pk.eyJ1IjoibGVzeWFwcm9rIiwiYSI6ImNrM3pwMGJxazA2MjYzbW10NTA5YzBtd2MifQ.LxzBp9Ou93eEfYgCMqC4tA";var y=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-74.5,40],zoom:3});y.addControl(new mapboxgl.NavigationControl);y.addControl(new mapboxgl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},showUserLocation:!0,trackUserLocation:!0}));const M=mapboxSdk({accessToken:mapboxgl.accessToken}),T=()=>{M.geocoding.forwardGeocode({query:p,autocomplete:!1,limit:1}).send().then((function(e){if(e&&e.body&&e.body.features&&e.body.features.length){const n=e.body.features[0],t=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:n.center,zoom:11});(new mapboxgl.Marker).setLngLat(n.center).addTo(t)}}))},I=document.getElementById("language");let b;I.addEventListener("change",e=>{"EN"===e.target.value&&(x.innerHTML=S.en[N+1],w.innerHTML=S.en[N+2],C.innerHTML=S.en[N+3],document.getElementById("h").innerText="HUMIDITY: ",document.getElementById("w").innerText="WIND: ",document.getElementById("f").innerText="FEELS LIKE: ",document.getElementById("ltd").innerText="Latitude: ",document.getElementById("lng").innerText="Longitude: ",date.innerHTML=(new Date).toLocaleDateString("en-EN",H),fetch(g.replace("cityName",`${p}`).replace("lang=ru","lang=en")).then(e=>e.json()).then(e=>document.getElementById("description").innerHTML=e.weather[0].description.toUpperCase())),"RU"===e.target.value&&(x.innerHTML=S.ru[N+1],w.innerHTML=S.ru[N+2],C.innerHTML=S.ru[N+3],document.getElementById("h").innerText="ВЛАЖНОСТЬ: ",document.getElementById("w").innerText="ВЕТЕР: ",document.getElementById("f").innerText="ОЩУЩАЕТСЯ: ",document.getElementById("ltd").innerText="Широта: ",document.getElementById("lng").innerText="Долгота: ",date.innerHTML=(new Date).toLocaleDateString("ru-RU",H),fetch(g.replace("cityName",`${p}`).replace("lang=en","lang=ru")).then(e=>e.json()).then(e=>{document.getElementById("description").innerHTML=e.weather[0].description.toUpperCase()})),"BY"===e.target.value&&(x.innerHTML=S.by[N+1],w.innerHTML=S.by[N+2],C.innerHTML=S.by[N+3],document.getElementById("h").innerText="ВІЛЬГОТНАСЦЬ: ",document.getElementById("w").innerText="ВЕЦЕР: ",document.getElementById("f").innerText="АДЧУВАЕЦЦА: ",document.getElementById("ltd").innerText="Шырата: ",document.getElementById("lng").innerText="Даўгата: ",date.innerHTML=(new Date).toLocaleDateString("ru-RU",H).replace("января","студзеня").replace("февраля","лютага").replace("марта","сакавiка").replace("апреля","красавiка").replace("июня","чэрвеня").replace("июля","лiпеня").replace("августа","жніўня").replace("сентября","верасня").replace("октября","кастрычніка").replace("ноября","лістапада").replace("декабря","снежня").replace("вт","Аў").replace("чт","Чц").replace("вс","Нд"),fetch(g.replace("cityName",`${p}`).replace("lang=en","lang=ru")).then(e=>e.json()).then(e=>document.getElementById("description").innerHTML=e.weather[0].description.toUpperCase().replace("ЯСНО","ЯСНА").replace("ДОЖДЬ","ДОЖДЖ").replace("ОБЛАЧНО","ВОБЛАЧНА").replace("ПАСМУРНО","ПАХМУРНА").replace("ПЕРЕМЕННАЯ","ПЕРАМЕННАЯ").replace("ОБЛАЧНОСТЬ","ВОБЛАЧНАСЦЬ").replace("НЕБОЛЬШАЯ","НЕВЯЛIКАЯ").replace("НЕБОЛЬШОЙ","НЕВЯЛІКІ").replace("СНЕГОПАД","СНЕГАПАД")))});const B=document.getElementById("temperature-buttons");let E=`${(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;const f=e=>{fetch(g.replace("cityName",`${e}`)).then(e=>e.json()).then(e=>{let n=new Date,t=(new Date).getTimezoneOffset()/60+3;timezoneDiff=e.timezone/3600-3-t,b=e.timezone,E=`${n.getHours()+timezoneDiff<=23||n.getHours()+timezoneDiff<0?n.getHours()+timezoneDiff:n.getHours()+timezoneDiff-24}:${n.getMinutes()<10?"0"+n.getMinutes():""+n.getMinutes()}`,document.getElementById("time").innerHTML=`${n.getHours()+timezoneDiff<=23||n.getHours()+timezoneDiff<0?n.getHours()+timezoneDiff:n.getHours()+timezoneDiff-24}:${n.getMinutes()<10?"0"+n.getMinutes():""+n.getMinutes()}`,document.getElementById("description").innerHTML=e.weather[0].description.toUpperCase(),document.getElementById("location").innerHTML=`${e.name}, ${$[e.sys.country]}`,document.getElementById("icon").src=`./data/${e.weather[0].icon}.png`,document.getElementById("temperature").innerHTML=`${Math.round(e.main.temp)}&#xb0;`,document.getElementById("humidity").innerHTML=`${e.main.humidity}%`,document.getElementById("wind").innerHTML=`${Math.round(e.wind.speed)} m/s`,document.getElementById("feelslike").innerHTML=Math.round(1.04*e.main.temp-2.7+e.main.pressure/1e3*2-.65*e.wind.speed)+"&#xb0;"}),"RU"===I.value&&fetch(g.replace("cityName",`${e}`).replace("lang=en","lang=ru")).then(e=>e.json()).then(e=>document.getElementById("description").innerHTML=e.weather[0].description.toUpperCase()),"EN"===I.value&&fetch(g.replace("cityName",`${e}`).replace("lang=ru","lang=en")).then(e=>e.json()).then(e=>document.getElementById("description").innerHTML=e.weather[0].description.toUpperCase()),"BY"===I.value&&fetch(g.replace("cityName",`${e}`).replace("lang=en","lang=ru")).then(e=>e.json()).then(e=>document.getElementById("description").innerHTML=e.weather[0].description.toUpperCase()),"fahrenheit"===B.value&&fetch(g.replace("cityName",`${e}`).replace("metric","imperial")).then(e=>e.json()).then(e=>{document.getElementById("temperature").innerHTML=`${Math.round(e.main.temp)}&#xb0;`,document.getElementById("feelslike").innerHTML=Math.round(1.04*e.main.temp-2.7+e.main.pressure/1e3*2-.65*e.wind.speed)+"&#xb0;"}),"celsius"===B.value&&fetch(g.replace("cityName",`${e}`).replace("imperial","metric")).then(e=>e.json()).then(e=>{document.getElementById("temperature").innerHTML=`${Math.round(e.main.temp)}&#xb0;`})};B.addEventListener("change",e=>{"fahrenheit"==e.target.value&&(fetch(g.replace("cityName",`${p}`).replace("metric","imperial")).then(e=>e.json()).then(e=>{document.getElementById("temperature").innerHTML=`${Math.round(e.main.temp)}&#xb0;`}),fetch(h.replace("cityName",`${p}`).replace("metric","imperial")).then(e=>e.json()).then(e=>{const n=e.list.filter(e=>e.dt_txt.includes("12:00:00"));document.getElementById("t1").innerHTML=`${Math.round(n[1].main.temp)}&#xb0;`,document.getElementById("t2").innerHTML=`${Math.round(n[2].main.temp)}&#xb0;`,document.getElementById("t3").innerHTML=`${Math.round(n[3].main.temp)}&#xb0;`})),"celsius"==e.target.value&&(fetch(g.replace("cityName",`${p}`).replace("imperial","metric")).then(e=>e.json()).then(e=>{document.getElementById("temperature").innerHTML=`${Math.round(e.main.temp)}&#xb0;`}),fetch(h.replace("cityName",`${p}`).replace("imperial","metric")).then(e=>e.json()).then(e=>{const n=e.list.filter(e=>e.dt_txt.includes("12:00:00"));document.getElementById("t1").innerHTML=`${Math.round(n[1].main.temp)}&#xb0;`,document.getElementById("t2").innerHTML=`${Math.round(n[2].main.temp)}&#xb0;`,document.getElementById("t3").innerHTML=`${Math.round(n[3].main.temp)}&#xb0;`}))});const L=e=>{fetch(h.replace("cityName",`${e}`)).then(e=>e.json()).then(e=>{const n=e.list.filter(e=>e.dt_txt.includes("12:00:00"));document.getElementById("t1").innerHTML=`${Math.round(n[1].main.temp)}&#xb0;`,document.getElementById("t2").innerHTML=`${Math.round(n[2].main.temp)}&#xb0;`,document.getElementById("t3").innerHTML=`${Math.round(n[3].main.temp)}&#xb0;`,document.getElementById("t1_icon").src=`data/${n[1].weather[0].icon}.png`,document.getElementById("t2_icon").src=`data/${n[2].weather[0].icon}.png`,document.getElementById("t3_icon").src=`data/${n[3].weather[0].icon}.png`}),"fahrenheit"===B.value&&fetch(h.replace("cityName",`${e}`).replace("metric","imperial")).then(e=>e.json()).then(e=>{const n=e.list.filter(e=>e.dt_txt.includes("12:00:00"));document.getElementById("t1").innerHTML=`${Math.round(n[1].main.temp)}&#xb0;`,document.getElementById("t2").innerHTML=`${Math.round(n[2].main.temp)}&#xb0;`,document.getElementById("t3").innerHTML=`${Math.round(n[3].main.temp)}&#xb0;`}),"celsius"===B.value&&fetch(h.replace("cityName",`${e}`).replace("imperial","metric")).then(e=>e.json()).then(e=>{const n=e.list.filter(e=>e.dt_txt.includes("12:00:00"));document.getElementById("t1").innerHTML=`${Math.round(n[1].main.temp)}&#xb0;`,document.getElementById("t2").innerHTML=`${Math.round(n[2].main.temp)}&#xb0;`,document.getElementById("t3").innerHTML=`${Math.round(n[3].main.temp)}&#xb0;`})},S={en:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Monday","Tuesday","Wednesday"],ru:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье","Понедельник","Вторник","Среда"],by:["Панядзелак","Аўторак","Серада","Чацьвер","Пятніца","Субота","Нядзеля","Панядзелак","Аўторак","Серада"]},v=()=>{time.innerHTML=`${(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`,setTimeout(v,6e4)};v();const H={weekday:"short",month:"long",day:"numeric"};date.innerHTML=(new Date).toLocaleDateString("en-EN",H);const x=document.getElementById("day1"),w=document.getElementById("day2"),C=document.getElementById("day3"),N=(new Date).getDay()-1;x.innerHTML=S.en[N+1],w.innerHTML=S.en[N+2],C.innerHTML=S.en[N+3],document.getElementById("microphone").onclick=()=>{window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const e=new SpeechRecognition;e.interimResults=!0,e.lang="ru-Ru",e.addEventListener("result",e=>{document.getElementById("search-input").value=e.results[0][0].transcript,p=e.results[0][0].transcript,document.getElementById("location").innerHTML=document.getElementById("search-input").value,f(p),L(p),m(p),T()}),e.start()};const $={BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BQ:"Bonaire, Saint Eustatius and Saba ",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize",RU:"Russia",RW:"Rwanda",RS:"Serbia",TL:"East Timor",RE:"Reunion",TM:"Turkmenistan",TJ:"Tajikistan",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",EE:"Estonia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Democratic Republic of the Congo",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CW:"Curacao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Sao Tome and Principe",SK:"Slovakia",KR:"South Korea",SI:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",TO:"Tonga",LT:"Lithuania",LU:"Luxembourg",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",AO:"Angola",AQ:"Antarctica",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"}}]);